<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Example: Cloud-distributed WordCount
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="An open source framework for large-scale distributed computation and data processing written in F#."/>
    <meta name="author" content="Jan Dzik, Nick Palladinos, Kostas Rontogiannis, Eirik Tsarpalis"/>
    
    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link rel="icon" type="image/png" href="http://www.mbrace.io/img/favicon-196x196.png" sizes="196x196"/>
    <link rel="icon" type="image/png" href="http://www.mbrace.io/img/favicon-160x160.png" sizes="160x160"/>
    <link rel="icon" type="image/png" href="http://www.mbrace.io/img/favicon-96x96.png" sizes="96x96"/>
    <link rel="icon" type="image/png" href="http://www.mbrace.io/img/favicon-16x16.png" sizes="16x16"/>
    <link rel="icon" type="image/png" href="http://www.mbrace.io/img/favicon-32x32.png" sizes="32x32"/>

    <link type="text/css" rel="stylesheet" href="http://www.mbrace.io/content/style.css" />
    <script type="text/javascript" src="http://www.mbrace.io/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://github.com/mbraceproject/MBrace.Core">github page</a></li>
        </ul>
        <h3 class="muted"><a href="http://www.mbrace.io/index.html">MBrace.Core and MBrace.Azure</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Example-Cloud-distributed-WordCount" class="anchor" href="#Example-Cloud-distributed-WordCount">Example: Cloud-distributed WordCount</a></h1>

<blockquote>
  <p>This example is from the <a href="https://github.com/mbraceproject/MBrace.StarterKit">MBrace Starter Kit</a>.</p>
</blockquote>

<p>This example implements the classic word count example commonly associated with distributed Map/Reduce frameworks.
We use CloudFlow for the implementation and <a href="http://www.textfiles.com">textfiles.com</a> as our data source.</p>

<p>First, some basic type definitions:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="prep">#load</span> <span class="s">&quot;../lib/utils.fsx&quot;</span>
<span class="prep">#load</span> <span class="s">&quot;../lib/textfiles.fsx&quot;</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs13', 17)" onmouseover="showTip(event, 'fs13', 17)" class="t">WordFrequency</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs14', 18)" onmouseover="showTip(event, 'fs14', 18)" class="t">string</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs15', 19)" onmouseover="showTip(event, 'fs15', 19)" class="t">int64</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs16', 20)" onmouseover="showTip(event, 'fs16', 20)" class="t">WordCount</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 21)" onmouseover="showTip(event, 'fs13', 21)" class="t">WordFrequency</span> []

<span class="c">// Regex word tokenizer</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 22)" onmouseover="showTip(event, 'fs17', 22)" class="i">wordRegex</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs18', 23)" onmouseover="showTip(event, 'fs18', 23)" class="t">Regex</span>(<span class="s">@&quot;[\W]+&quot;</span>, <span onmouseout="hideTip(event, 'fs19', 24)" onmouseover="showTip(event, 'fs19', 24)" class="t">RegexOptions</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs20', 25)" onmouseover="showTip(event, 'fs20', 25)" class="i">Compiled</span>)
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs21', 26)" onmouseover="showTip(event, 'fs21', 26)" class="f">splitToWords</span> (<span onmouseout="hideTip(event, 'fs22', 27)" onmouseover="showTip(event, 'fs22', 27)" class="i">line</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs14', 28)" onmouseover="showTip(event, 'fs14', 28)" class="t">string</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs17', 29)" onmouseover="showTip(event, 'fs17', 29)" class="i">wordRegex</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 30)" onmouseover="showTip(event, 'fs23', 30)" class="f">Split</span> <span onmouseout="hideTip(event, 'fs22', 31)" onmouseover="showTip(event, 'fs22', 31)" class="i">line</span>

<span class="c">/// normalize word</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs24', 32)" onmouseover="showTip(event, 'fs24', 32)" class="f">normalize</span> (<span onmouseout="hideTip(event, 'fs25', 33)" onmouseover="showTip(event, 'fs25', 33)" class="i">word</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs14', 34)" onmouseover="showTip(event, 'fs14', 34)" class="t">string</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs25', 35)" onmouseover="showTip(event, 'fs25', 35)" class="i">word</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 36)" onmouseover="showTip(event, 'fs26', 36)" class="f">Trim</span>()<span class="o">.</span><span class="f">ToLower</span>()
</code></pre></td>
</tr>
</table>

<p>Now, define the words to ignore in the word count:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// The words ignored by wordcount</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs27', 37)" onmouseover="showTip(event, 'fs27', 37)" class="i">noiseWords</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs28', 38)" onmouseover="showTip(event, 'fs28', 38)" class="f">hashSet</span> [  
        <span class="s">&quot;about&quot;</span>; <span class="s">&quot;above&quot;</span>; <span class="s">&quot;along&quot;</span>; <span class="s">&quot;also&quot;</span>; <span class="s">&quot;although&quot;</span>; <span class="s">&quot;aren&#39;t&quot;</span>; <span class="s">&quot;because&quot;</span>; <span class="s">&quot;been&quot;</span>;
        <span class="s">&quot;cannot&quot;</span>; <span class="s">&quot;could&quot;</span>; <span class="s">&quot;couldn&#39;t&quot;</span>; <span class="s">&quot;didn&#39;t&quot;</span>; <span class="s">&quot;does&quot;</span>; <span class="s">&quot;doesn&#39;t&quot;</span>; <span class="s">&quot;e.g.&quot;</span>;
        <span class="s">&quot;either&quot;</span>; <span class="s">&quot;etc.&quot;</span>; <span class="s">&quot;even&quot;</span>; <span class="s">&quot;ever&quot;</span>; <span class="s">&quot;from&quot;</span>; <span class="s">&quot;further&quot;</span>; <span class="s">&quot;gets&quot;</span>; <span class="s">&quot;hardly&quot;</span>;
        <span class="s">&quot;hasn&#39;t&quot;</span>; <span class="s">&quot;having&quot;</span>; <span class="s">&quot;hence&quot;</span>; <span class="s">&quot;here&quot;</span>; <span class="s">&quot;hereby&quot;</span>; <span class="s">&quot;herein&quot;</span>; <span class="s">&quot;hereof&quot;</span>;
        <span class="s">&quot;hereon&quot;</span>; <span class="s">&quot;hereto&quot;</span>; <span class="s">&quot;herewith&quot;</span>; <span class="s">&quot;however&quot;</span>; <span class="s">&quot;i.e.&quot;</span>; <span class="s">&quot;into&quot;</span>; <span class="s">&quot;it&#39;s&quot;</span>; <span class="s">&quot;more&quot;</span>;
        <span class="s">&quot;most&quot;</span>; <span class="s">&quot;near&quot;</span>; <span class="s">&quot;onto&quot;</span>; <span class="s">&quot;other&quot;</span>; <span class="s">&quot;over&quot;</span>; <span class="s">&quot;really&quot;</span>; <span class="s">&quot;said&quot;</span>; <span class="s">&quot;same&quot;</span>;
        <span class="s">&quot;should&quot;</span>; <span class="s">&quot;shouldn&#39;t&quot;</span>; <span class="s">&quot;since&quot;</span>; <span class="s">&quot;some&quot;</span>; <span class="s">&quot;such&quot;</span>; <span class="s">&quot;than&quot;</span>; <span class="s">&quot;that&quot;</span>; <span class="s">&quot;their&quot;</span>;
        <span class="s">&quot;them&quot;</span>; <span class="s">&quot;then&quot;</span>; <span class="s">&quot;there&quot;</span>; <span class="s">&quot;thereby&quot;</span>; <span class="s">&quot;therefore&quot;</span>; <span class="s">&quot;therefrom&quot;</span>; <span class="s">&quot;therein&quot;</span>;
        <span class="s">&quot;thereof&quot;</span>; <span class="s">&quot;thereon&quot;</span>; <span class="s">&quot;thereto&quot;</span>; <span class="s">&quot;therewith&quot;</span>; <span class="s">&quot;these&quot;</span>; <span class="s">&quot;they&quot;</span>; <span class="s">&quot;this&quot;</span>;
        <span class="s">&quot;those&quot;</span>; <span class="s">&quot;through&quot;</span>; <span class="s">&quot;thus&quot;</span>; <span class="s">&quot;under&quot;</span>; <span class="s">&quot;until&quot;</span>; <span class="s">&quot;unto&quot;</span>; <span class="s">&quot;upon&quot;</span>; <span class="s">&quot;very&quot;</span>;
        <span class="s">&quot;wasn&#39;t&quot;</span>; <span class="s">&quot;were&quot;</span>; <span class="s">&quot;what&quot;</span>; <span class="s">&quot;when&quot;</span>; <span class="s">&quot;where&quot;</span>; <span class="s">&quot;whereby&quot;</span>; <span class="s">&quot;wherein&quot;</span>; <span class="s">&quot;whether&quot;</span>;
        <span class="s">&quot;which&quot;</span>; <span class="s">&quot;while&quot;</span>; <span class="s">&quot;whom&quot;</span>; <span class="s">&quot;whose&quot;</span>; <span class="s">&quot;with&quot;</span>; <span class="s">&quot;without&quot;</span>; <span class="s">&quot;would&quot;</span>; <span class="s">&quot;your&quot;</span>;
        <span class="s">&quot;have&quot;</span>; <span class="s">&quot;thou&quot;</span>; <span class="s">&quot;will&quot;</span>; <span class="s">&quot;shall&quot;</span> ]

<span class="c">/// specifies whether word is noise</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 39)" onmouseover="showTip(event, 'fs29', 39)" class="f">isNoiseWord</span> (<span onmouseout="hideTip(event, 'fs25', 40)" onmouseover="showTip(event, 'fs25', 40)" class="i">word</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs14', 41)" onmouseover="showTip(event, 'fs14', 41)" class="t">string</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs25', 42)" onmouseover="showTip(event, 'fs25', 42)" class="i">word</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 43)" onmouseover="showTip(event, 'fs30', 43)" class="i">Length</span> <span class="o">&lt;=</span> <span class="n">3</span> <span class="o">||</span> <span onmouseout="hideTip(event, 'fs27', 44)" onmouseover="showTip(event, 'fs27', 44)" class="i">noiseWords</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 45)" onmouseover="showTip(event, 'fs31', 45)" class="f">Contains</span> <span onmouseout="hideTip(event, 'fs25', 46)" onmouseover="showTip(event, 'fs25', 46)" class="i">word</span>
</code></pre></td>
</tr>
</table>

<p>We are now ready to define our distributed workflows.
First, we create a distributed download workflow that caches the contents of supplied urls across the cluster.
This returns a PersistedCloudFlow type that can be readily used for consumption by future flow queries.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Downloads and caches text files across the cluster</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs32', 47)" onmouseover="showTip(event, 'fs32', 47)" class="f">downloadAndCacheTextFiles</span> (<span onmouseout="hideTip(event, 'fs33', 48)" onmouseover="showTip(event, 'fs33', 48)" class="i">urls</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs34', 49)" onmouseover="showTip(event, 'fs34', 49)" class="t">seq</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs14', 50)" onmouseover="showTip(event, 'fs14', 50)" class="t">string</span><span class="o">&gt;</span>) <span class="o">:</span> <span class="i">Cloud</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs35', 51)" onmouseover="showTip(event, 'fs35', 51)" class="i">PersistedCloudFlow</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs14', 52)" onmouseover="showTip(event, 'fs14', 52)" class="i">string</span><span class="o">&gt;</span><span class="o">&gt;</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs36', 53)" onmouseover="showTip(event, 'fs36', 53)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs37', 54)" onmouseover="showTip(event, 'fs37', 54)" class="f">OfHttpFileByLine</span> <span onmouseout="hideTip(event, 'fs33', 55)" onmouseover="showTip(event, 'fs33', 55)" class="i">urls</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 56)" onmouseover="showTip(event, 'fs36', 56)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs38', 57)" onmouseover="showTip(event, 'fs38', 57)" class="f">persist</span> <span class="i">StorageLevel</span><span class="o">.</span><span class="i">Memory</span>
</code></pre></td>
</tr>
</table>

<p>The wordcount function can now be defined:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Computes the word count using the input cloud flow</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs39', 58)" onmouseover="showTip(event, 'fs39', 58)" class="f">computeWordCount</span> (<span onmouseout="hideTip(event, 'fs40', 59)" onmouseover="showTip(event, 'fs40', 59)" class="i">cutoff</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs41', 60)" onmouseover="showTip(event, 'fs41', 60)" class="t">int</span>) (<span onmouseout="hideTip(event, 'fs42', 61)" onmouseover="showTip(event, 'fs42', 61)" class="i">lines</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs36', 62)" onmouseover="showTip(event, 'fs36', 62)" class="t">CloudFlow</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs14', 63)" onmouseover="showTip(event, 'fs14', 63)" class="t">string</span><span class="o">&gt;</span>) <span class="o">:</span> <span class="i">Cloud</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs16', 64)" onmouseover="showTip(event, 'fs16', 64)" class="i">WordCount</span><span class="o">&gt;</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs42', 65)" onmouseover="showTip(event, 'fs42', 65)" class="i">lines</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 66)" onmouseover="showTip(event, 'fs36', 66)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs43', 67)" onmouseover="showTip(event, 'fs43', 67)" class="f">collect</span> <span onmouseout="hideTip(event, 'fs21', 68)" onmouseover="showTip(event, 'fs21', 68)" class="f">splitToWords</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 69)" onmouseover="showTip(event, 'fs36', 69)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs44', 70)" onmouseover="showTip(event, 'fs44', 70)" class="f">map</span> <span onmouseout="hideTip(event, 'fs24', 71)" onmouseover="showTip(event, 'fs24', 71)" class="f">normalize</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 72)" onmouseover="showTip(event, 'fs36', 72)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs45', 73)" onmouseover="showTip(event, 'fs45', 73)" class="f">filter</span> (<span onmouseout="hideTip(event, 'fs46', 74)" onmouseover="showTip(event, 'fs46', 74)" class="f">not</span> <span class="o">&lt;&lt;</span> <span onmouseout="hideTip(event, 'fs29', 75)" onmouseover="showTip(event, 'fs29', 75)" class="f">isNoiseWord</span>)
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 76)" onmouseover="showTip(event, 'fs36', 76)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 77)" onmouseover="showTip(event, 'fs47', 77)" class="f">countBy</span> <span onmouseout="hideTip(event, 'fs48', 78)" onmouseover="showTip(event, 'fs48', 78)" class="f">id</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 79)" onmouseover="showTip(event, 'fs36', 79)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 80)" onmouseover="showTip(event, 'fs49', 80)" class="f">sortBy</span> (<span class="k">fun</span> (_,<span onmouseout="hideTip(event, 'fs50', 81)" onmouseover="showTip(event, 'fs50', 81)" class="i">c</span>) <span class="k">-&gt;</span> <span class="o">-</span><span onmouseout="hideTip(event, 'fs50', 82)" onmouseover="showTip(event, 'fs50', 82)" class="i">c</span>) <span onmouseout="hideTip(event, 'fs40', 83)" onmouseover="showTip(event, 'fs40', 83)" class="i">cutoff</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs36', 84)" onmouseover="showTip(event, 'fs36', 84)" class="t">CloudFlow</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 85)" onmouseover="showTip(event, 'fs51', 85)" class="f">toArray</span>
</code></pre></td>
</tr>
</table>

<h2><a name="Test-the-wordcount-sample-using-textfiles-com" class="anchor" href="#Test-the-wordcount-sample-using-textfiles-com">Test the wordcount sample using textfiles.com</a></h2>

<p>Step 1. Determine URIs to data inputs from textfiles.com</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs52', 86)" onmouseover="showTip(event, 'fs52', 86)" class="i">files</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs53', 87)" onmouseover="showTip(event, 'fs53', 87)" class="t">TextFiles</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 88)" onmouseover="showTip(event, 'fs54', 88)" class="f">crawlForTextFiles</span>() <span class="c">// get text file data from textfiles.com</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs55', 89)" onmouseover="showTip(event, 'fs55', 89)" class="i">testedFiles</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs52', 90)" onmouseover="showTip(event, 'fs52', 90)" class="i">files</span> <span class="c">// |&gt; Seq.take 50 // uncomment to use a smaller dataset</span>
</code></pre></td>
</tr>
</table>

<p>Step 2. Download URIs to across cluster and load in memory</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs56', 91)" onmouseover="showTip(event, 'fs56', 91)" class="i">downloadTask</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs32', 92)" onmouseover="showTip(event, 'fs32', 92)" class="f">downloadAndCacheTextFiles</span> <span onmouseout="hideTip(event, 'fs55', 93)" onmouseover="showTip(event, 'fs55', 93)" class="i">testedFiles</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 94)" onmouseover="showTip(event, 'fs10', 94)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs57', 95)" onmouseover="showTip(event, 'fs57', 95)" class="f">CreateProcess</span>

<span onmouseout="hideTip(event, 'fs10', 96)" onmouseover="showTip(event, 'fs10', 96)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 97)" onmouseover="showTip(event, 'fs58', 97)" class="f">ShowWorkers</span>()
<span onmouseout="hideTip(event, 'fs10', 98)" onmouseover="showTip(event, 'fs10', 98)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs59', 99)" onmouseover="showTip(event, 'fs59', 99)" class="f">ShowProcesses</span>()

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs60', 100)" onmouseover="showTip(event, 'fs60', 100)" class="i">persistedFlow</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs56', 101)" onmouseover="showTip(event, 'fs56', 101)" class="i">downloadTask</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 102)" onmouseover="showTip(event, 'fs61', 102)" class="i">Result</span> <span class="c">// get PersistedCloudFlow</span>
</code></pre></td>
</tr>
</table>

<p>Step 3. Perform wordcount on downloaded data</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs62', 103)" onmouseover="showTip(event, 'fs62', 103)" class="i">wordCountTask</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs39', 104)" onmouseover="showTip(event, 'fs39', 104)" class="f">computeWordCount</span> <span class="n">100</span> <span onmouseout="hideTip(event, 'fs60', 105)" onmouseover="showTip(event, 'fs60', 105)" class="i">persistedFlow</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 106)" onmouseover="showTip(event, 'fs10', 106)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs57', 107)" onmouseover="showTip(event, 'fs57', 107)" class="f">CreateProcess</span>
</code></pre></td>
</tr>
</table>

<p>Check progress:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs10', 108)" onmouseover="showTip(event, 'fs10', 108)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 109)" onmouseover="showTip(event, 'fs58', 109)" class="f">ShowWorkers</span>()
<span onmouseout="hideTip(event, 'fs10', 110)" onmouseover="showTip(event, 'fs10', 110)" class="i">cluster</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs59', 111)" onmouseover="showTip(event, 'fs59', 111)" class="f">ShowProcesses</span>()
</code></pre></td>
</tr>
</table>

<p>Wait for the results:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs62', 112)" onmouseover="showTip(event, 'fs62', 112)" class="i">wordCountTask</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs63', 113)" onmouseover="showTip(event, 'fs63', 113)" class="i">Result</span>
</code></pre></td>
</tr>
</table>

<p>In this tutorial, you've learned how to perform a scalable textual analysis task using MBrace.
Continue with further samples to learn more about the
MBrace programming model.</p>

<blockquote>
  <p>Note, you can use the above techniques from both scripts and compiled projects. To see the components referenced 
by this script, see <a href="../ThespianCluster.html">ThespianCluster.fsx</a> or <a href="../AzureCluster.html">AzureCluster.fsx</a>.</p>
</blockquote>

<div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">namespace System.Collections</div>
<div class="tip" id="fs3">namespace System.Collections.Generic</div>
<div class="tip" id="fs4">namespace System.IO</div>
<div class="tip" id="fs5">namespace System.Text</div>
<div class="tip" id="fs6">namespace System.Text.RegularExpressions</div>
<div class="tip" id="fs7">namespace MBrace</div>
<div class="tip" id="fs8">namespace MBrace.Core</div>
<div class="tip" id="fs9">namespace MBrace.Flow</div>
<div class="tip" id="fs10">val cluster : MBrace.Thespian.ThespianCluster<br /><br />Full name: 200-wordcount-example.cluster</div>
<div class="tip" id="fs11">module Config</div>
<div class="tip" id="fs12">val GetCluster : unit -&gt; MBrace.Thespian.ThespianCluster<br /><br />Full name: Config.GetCluster<br /><em><br /><br />&#160;Gets or creates a new Thespian cluster session.</em></div>
<div class="tip" id="fs13">type WordFrequency = string * int64<br /><br />Full name: 200-wordcount-example.WordFrequency</div>
<div class="tip" id="fs14">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs15">Multiple items<br />val int64 : value:&#39;T -&gt; int64 (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int64<br /><br />--------------------<br />type int64 = Int64<br /><br />Full name: Microsoft.FSharp.Core.int64<br /><br />--------------------<br />type int64&lt;&#39;Measure&gt; = int64<br /><br />Full name: Microsoft.FSharp.Core.int64&lt;_&gt;</div>
<div class="tip" id="fs16">type WordCount = WordFrequency []<br /><br />Full name: 200-wordcount-example.WordCount</div>
<div class="tip" id="fs17">val wordRegex : Regex<br /><br />Full name: 200-wordcount-example.wordRegex</div>
<div class="tip" id="fs18">Multiple items<br />type Regex =<br />&#160;&#160;new : pattern:string -&gt; Regex + 1 overload<br />&#160;&#160;member GetGroupNames : unit -&gt; string[]<br />&#160;&#160;member GetGroupNumbers : unit -&gt; int[]<br />&#160;&#160;member GroupNameFromNumber : i:int -&gt; string<br />&#160;&#160;member GroupNumberFromName : name:string -&gt; int<br />&#160;&#160;member IsMatch : input:string -&gt; bool + 1 overload<br />&#160;&#160;member Match : input:string -&gt; Match + 2 overloads<br />&#160;&#160;member Matches : input:string -&gt; MatchCollection + 1 overload<br />&#160;&#160;member Options : RegexOptions<br />&#160;&#160;member Replace : input:string * replacement:string -&gt; string + 5 overloads<br />&#160;&#160;...<br /><br />Full name: System.Text.RegularExpressions.Regex<br /><br />--------------------<br />Regex(pattern: string) : unit<br />Regex(pattern: string, options: RegexOptions) : unit</div>
<div class="tip" id="fs19">type RegexOptions =<br />&#160;&#160;| None = 0<br />&#160;&#160;| IgnoreCase = 1<br />&#160;&#160;| Multiline = 2<br />&#160;&#160;| ExplicitCapture = 4<br />&#160;&#160;| Compiled = 8<br />&#160;&#160;| Singleline = 16<br />&#160;&#160;| IgnorePatternWhitespace = 32<br />&#160;&#160;| RightToLeft = 64<br />&#160;&#160;| ECMAScript = 256<br />&#160;&#160;| CultureInvariant = 512<br /><br />Full name: System.Text.RegularExpressions.RegexOptions</div>
<div class="tip" id="fs20">field RegexOptions.Compiled = 8</div>
<div class="tip" id="fs21">val splitToWords : line:string -&gt; string []<br /><br />Full name: 200-wordcount-example.splitToWords</div>
<div class="tip" id="fs22">val line : string</div>
<div class="tip" id="fs23">Regex.Split(input: string) : string []<br />Regex.Split(input: string, count: int) : string []<br />Regex.Split(input: string, count: int, startat: int) : string []</div>
<div class="tip" id="fs24">val normalize : word:string -&gt; string<br /><br />Full name: 200-wordcount-example.normalize<br /><em><br /><br />&#160;normalize word</em></div>
<div class="tip" id="fs25">val word : string</div>
<div class="tip" id="fs26">String.Trim() : string<br />String.Trim([&lt;ParamArray&gt;] trimChars: char []) : string</div>
<div class="tip" id="fs27">val noiseWords : HashSet&lt;string&gt;<br /><br />Full name: 200-wordcount-example.noiseWords<br /><em><br /><br />&#160;The words ignored by wordcount</em></div>
<div class="tip" id="fs28">val hashSet : ts:seq&lt;&#39;T&gt; -&gt; HashSet&lt;&#39;T&gt;<br /><br />Full name: Utils.hashSet<br /><em><br /><br />&#160;Creates a new HashSet with provided sequence</em></div>
<div class="tip" id="fs29">val isNoiseWord : word:string -&gt; bool<br /><br />Full name: 200-wordcount-example.isNoiseWord<br /><em><br /><br />&#160;specifies whether word is noise</em></div>
<div class="tip" id="fs30">property String.Length: int</div>
<div class="tip" id="fs31">HashSet.Contains(item: string) : bool</div>
<div class="tip" id="fs32">val downloadAndCacheTextFiles : urls:seq&lt;string&gt; -&gt; MBrace.Core.Cloud&lt;PersistedCloudFlow&lt;string&gt;&gt;<br /><br />Full name: 200-wordcount-example.downloadAndCacheTextFiles<br /><em><br /><br />&#160;Downloads and caches text files across the cluster</em></div>
<div class="tip" id="fs33">val urls : seq&lt;string&gt;</div>
<div class="tip" id="fs34">Multiple items<br />val seq : sequence:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.Operators.seq<br /><br />--------------------<br />type seq&lt;&#39;T&gt; = IEnumerable&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.seq&lt;_&gt;</div>
<div class="tip" id="fs35">Multiple items<br />type PersistedCloudFlow =<br />&#160;&#160;private new : unit -&gt; PersistedCloudFlow<br />&#160;&#160;static member Concat : vectors:seq&lt;PersistedCloudFlow&lt;&#39;T&gt;&gt; -&gt; PersistedCloudFlow&lt;&#39;T&gt;<br />&#160;&#160;static member private New : elems:seq&lt;&#39;T&gt; * ?storageLevel:StorageLevel * ?targetWorker:IWorkerRef * ?partitionThreshold:int64 -&gt; LocalCloud&lt;PersistedCloudFlow&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member OfCloudArrays : cloudArrays:seq&lt;#CloudArray&lt;&#39;T&gt;&gt; -&gt; LocalCloud&lt;PersistedCloudFlow&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member OfCloudFlow : flow:CloudFlow&lt;&#39;T&gt; * ?storageLevel:StorageLevel * ?partitionThreshold:int64 -&gt; Cloud&lt;PersistedCloudFlow&lt;&#39;T&gt;&gt;<br /><br />Full name: MBrace.Flow.PersistedCloudFlow<br /><br />--------------------<br />type PersistedCloudFlow&lt;&#39;T&gt; =<br />&#160;&#160;interface ICloudDisposable<br />&#160;&#160;interface CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;interface ITargetedPartitionCollection&lt;&#39;T&gt;<br />&#160;&#160;interface seq&lt;&#39;T&gt;<br />&#160;&#160;private new : partitions:(IWorkerRef * CloudArray&lt;&#39;T&gt;) [] -&gt; PersistedCloudFlow&lt;&#39;T&gt;<br />&#160;&#160;member GetInfo : unit -&gt; string<br />&#160;&#160;member GetPartitions : unit -&gt; (IWorkerRef * CloudArray&lt;&#39;T&gt;) []<br />&#160;&#160;member ShowInfo : unit -&gt; unit<br />&#160;&#160;member private ToEnumerable : unit -&gt; seq&lt;&#39;T&gt;<br />&#160;&#160;override ToString : unit -&gt; string<br />&#160;&#160;...<br /><br />Full name: MBrace.Flow.PersistedCloudFlow&lt;_&gt;</div>
<div class="tip" id="fs36">Multiple items<br />module CloudFlow<br /><br />from MBrace.Flow<br /><br />--------------------<br />module CloudFlow<br /><br />from Utils<br /><br />--------------------<br />type CloudFlow =<br />&#160;&#160;static member OfArray : source:&#39;T [] -&gt; CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;static member OfCloudArrays : cloudArrays:seq&lt;#CloudArray&lt;&#39;T&gt;&gt; -&gt; LocalCloud&lt;PersistedCloudFlow&lt;&#39;T&gt;&gt;<br />&#160;&#160;static member OfCloudCollection : collection:ICloudCollection&lt;&#39;T&gt; * ?sizeThresholdPerWorker:(unit -&gt; int64) -&gt; CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;static member OfCloudDirectory : dirPath:string * serializer:ISerializer * ?sizeThresholdPerCore:int64 -&gt; CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;static member OfCloudDirectory : dirPath:string * ?deserializer:(Stream -&gt; seq&lt;&#39;T&gt;) * ?sizeThresholdPerCore:int64 -&gt; CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;static member OfCloudDirectory : dirPath:string * deserializer:(TextReader -&gt; seq&lt;&#39;T&gt;) * ?encoding:Encoding * ?sizeThresholdPerCore:int64 -&gt; CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;static member OfCloudDirectoryByLine : dirPath:string * ?encoding:Encoding * ?sizeThresholdPerCore:int64 -&gt; CloudFlow&lt;string&gt;<br />&#160;&#160;static member OfCloudFileByLine : path:string * ?encoding:Encoding -&gt; CloudFlow&lt;string&gt;<br />&#160;&#160;static member OfCloudFileByLine : paths:seq&lt;string&gt; * ?encoding:Encoding * ?sizeThresholdPerCore:int64 -&gt; CloudFlow&lt;string&gt;<br />&#160;&#160;static member OfCloudFiles : paths:seq&lt;string&gt; * serializer:ISerializer * ?sizeThresholdPerCore:int64 -&gt; CloudFlow&lt;&#39;T&gt;<br />&#160;&#160;...<br /><br />Full name: MBrace.Flow.CloudFlow<br /><br />--------------------<br />type CloudFlow&lt;&#39;T&gt; =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member WithEvaluators : collectorFactory:LocalCloud&lt;Collector&lt;&#39;T,&#39;S&gt;&gt; -&gt; projection:(&#39;S -&gt; LocalCloud&lt;&#39;R&gt;) -&gt; combiner:(&#39;R [] -&gt; LocalCloud&lt;&#39;R&gt;) -&gt; Cloud&lt;&#39;R&gt;<br />&#160;&#160;&#160;&#160;abstract member DegreeOfParallelism : int option<br />&#160;&#160;end<br /><br />Full name: MBrace.Flow.CloudFlow&lt;_&gt;</div>
<div class="tip" id="fs37">static member CloudFlow.OfHttpFileByLine : urls:seq&lt;string&gt; * ?encoding:Text.Encoding -&gt; CloudFlow&lt;string&gt;<br />static member CloudFlow.OfHttpFileByLine : url:string * ?encoding:Text.Encoding -&gt; CloudFlow&lt;string&gt;</div>
<div class="tip" id="fs38">val persist : storageLevel:MBrace.Core.StorageLevel -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; MBrace.Core.Cloud&lt;PersistedCloudFlow&lt;&#39;T&gt;&gt;<br /><br />Full name: MBrace.Flow.CloudFlow.persist</div>
<div class="tip" id="fs39">val computeWordCount : cutoff:int -&gt; lines:CloudFlow&lt;string&gt; -&gt; MBrace.Core.Cloud&lt;(string * int64) []&gt;<br /><br />Full name: 200-wordcount-example.computeWordCount<br /><em><br /><br />&#160;Computes the word count using the input cloud flow</em></div>
<div class="tip" id="fs40">val cutoff : int</div>
<div class="tip" id="fs41">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs42">val lines : CloudFlow&lt;string&gt;</div>
<div class="tip" id="fs43">val collect : f:(&#39;T -&gt; #seq&lt;&#39;R&gt;) -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;R&gt;<br /><br />Full name: MBrace.Flow.CloudFlow.collect</div>
<div class="tip" id="fs44">val map : f:(&#39;T -&gt; &#39;R) -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;R&gt;<br /><br />Full name: MBrace.Flow.CloudFlow.map</div>
<div class="tip" id="fs45">val filter : predicate:(&#39;T -&gt; bool) -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;T&gt;<br /><br />Full name: MBrace.Flow.CloudFlow.filter</div>
<div class="tip" id="fs46">val not : value:bool -&gt; bool<br /><br />Full name: Microsoft.FSharp.Core.Operators.not</div>
<div class="tip" id="fs47">val countBy : projection:(&#39;T -&gt; &#39;Key) -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;Key * int64&gt; (requires equality)<br /><br />Full name: MBrace.Flow.CloudFlow.countBy</div>
<div class="tip" id="fs48">val id : x:&#39;T -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.id</div>
<div class="tip" id="fs49">val sortBy : projection:(&#39;T -&gt; &#39;Key) -&gt; takeCount:int -&gt; flow:CloudFlow&lt;&#39;T&gt; -&gt; CloudFlow&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: MBrace.Flow.CloudFlow.sortBy</div>
<div class="tip" id="fs50">val c : int64</div>
<div class="tip" id="fs51">val toArray : flow:CloudFlow&lt;&#39;T&gt; -&gt; MBrace.Core.Cloud&lt;&#39;T []&gt;<br /><br />Full name: MBrace.Flow.CloudFlow.toArray</div>
<div class="tip" id="fs52">val files : string []<br /><br />Full name: 200-wordcount-example.files</div>
<div class="tip" id="fs53">module TextFiles<br /><em><br /><br />&#160;Collection of utilities for downloading text files from textfiles.com</em></div>
<div class="tip" id="fs54">val crawlForTextFiles : unit -&gt; string []<br /><br />Full name: TextFiles.crawlForTextFiles<br /><em><br /><br />&#160;Crawls for text files found in textfiles.com</em></div>
<div class="tip" id="fs55">val testedFiles : string []<br /><br />Full name: 200-wordcount-example.testedFiles</div>
<div class="tip" id="fs56">val downloadTask : MBrace.Runtime.CloudProcess&lt;PersistedCloudFlow&lt;string&gt;&gt;<br /><br />Full name: 200-wordcount-example.downloadTask</div>
<div class="tip" id="fs57">member MBrace.Runtime.MBraceClient.CreateProcess : workflow:MBrace.Core.Cloud&lt;&#39;T&gt; * ?cancellationToken:MBrace.Core.ICloudCancellationToken * ?faultPolicy:MBrace.Core.FaultPolicy * ?target:MBrace.Core.IWorkerRef * ?additionalResources:MBrace.Core.Internals.ResourceRegistry * ?taskName:string -&gt; MBrace.Runtime.CloudProcess&lt;&#39;T&gt;</div>
<div class="tip" id="fs58">member MBrace.Runtime.MBraceClient.ShowWorkers : unit -&gt; unit</div>
<div class="tip" id="fs59">member MBrace.Runtime.MBraceClient.ShowProcesses : unit -&gt; unit</div>
<div class="tip" id="fs60">val persistedFlow : PersistedCloudFlow&lt;string&gt;<br /><br />Full name: 200-wordcount-example.persistedFlow</div>
<div class="tip" id="fs61">property MBrace.Runtime.CloudProcess.Result: PersistedCloudFlow&lt;string&gt;</div>
<div class="tip" id="fs62">val wordCountTask : MBrace.Runtime.CloudProcess&lt;(string * int64) []&gt;<br /><br />Full name: 200-wordcount-example.wordCountTask</div>
<div class="tip" id="fs63">property MBrace.Runtime.CloudProcess.Result: (string * int64) []</div>

        </div>
        <div class="span3">
          <a href="http://www.mbrace.io/index.html">
            <img src="http://www.mbrace.io/img/mbrace.png" alt="F# Project" style="width:150px;margin:10px" />
          </a>
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">MBrace.Core and MBrace.Azure</li>
            <li><a href="http://www.mbrace.io/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://www.nuget.org/packages/MBrace.Core">Get Library via NuGet</a></li>
            <li><a href="http://github.com/mbraceproject/MBrace.Core">Source Code on GitHub</a></li>
            <li><a href="http://github.com/mbraceproject/MBrace.Core/blob/master/LICENSE.md">License</a></li>
            <li><a href="http://github.com/mbraceproject/MBrace.Core/blob/master/RELEASE_NOTES.md">Release Notes</a></li>

            <li class="nav-header">Getting Started</li>
            <li><a href="http://www.mbrace.io/thespian-tutorial.html">Local cluster</a></li>
            <li><a href="http://www.mbrace.io/azure-tutorial.html">Azure cluster</a></li>
            <li class="divider"></li>
            <li><a target="_blank" href="http://www.mbrace.io/mbrace-plos.pdf">PLOS'13 Publication</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="http://www.mbrace.io/programming-model.html">Programming model</a></li>
            <li><a href="http://www.mbrace.io/reference/core/index.html">API Reference (MBrace.Core)</a></li>
            <li><a href="http://www.mbrace.io/reference/runtime/index.html">API Reference (MBrace.Runtime)</a></li>
            <li><a href="http://www.mbrace.io/reference/flow/index.html">API Reference (MBrace.Flow)</a></li>
            <li class="divider"></li>
            <li><a href="http://www.mbrace.io/reference/azure/index.html">Reference (Azure)</a></li>
            <li><a href="http://www.mbrace.io/reference/thespian/index.html">Reference (Local)</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/mbraceproject/MBrace.Core"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
